<form
[formGroup]="createProductForm"
name="createProductForm"
#ngForm="ngForm"
(ngSubmit)="createProduct()"
autocomplete="off"
>
  <div class="div-container">
    
    <mat-grid-list cols="2" rowHeight="50px">
      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <button
          style="margin-right: 10px;"
          class="mat-raised-button mat-primary "
          color="primary"
          type="submit"
        >
          <span class="mat-button-wrapper"
            ><mat-icon
              class="mat-icon notranslate material-icons mat-icon-no-color"
              role="img"
              aria-hidden="true"
              >save</mat-icon
            >
            Guardar
          </span>
        </button>

        <a
          [routerLink]="['/productos']"
          class="mat-raised-button"
          color="primary"
          type="button"
        >
          <span class="mat-button-wrapper"
            ><mat-icon
              class="mat-icon notranslate material-icons mat-icon-no-color"
              role="img"
              aria-hidden="true"
              >keyboard_backspace</mat-icon
            >
            Cancelar
          </span>
        </a>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="1" [rowspan]="1"> </mat-grid-tile>
    </mat-grid-list>

    <div
      class=""
      fxLayout="row wrap"
      style="flex-flow: row wrap; box-sizing: border-box; display: flex;"
    >
      <div
        class=""
        fxFlex="100"
        fxFlex.gt-sm="100"
        style="flex: 1 1 100%; box-sizing: border-box; max-width: 100%;"
      >
        <mat-card class="mat-card">
          <mat-card-content class="mat-card-content">
            <mat-card-title class="mat-card-title">Crear</mat-card-title>

            <mat-form-field class="full-width-input">
              <input matInput 
                     placeholder="Nombre"            
                     [value]="createProductForm.get('name').value | titlecase"
                     formControlName="name" />
              
                     <mat-error *ngIf="createProductForm.get('name').errors">
                Nombre es requerido
              </mat-error>
            </mat-form-field>
          
            <mat-form-field>
              <mat-label>Seleccione una categoría</mat-label>
              <mat-select [value]="createProductForm.get('categoryParentId').value"
                          formControlName="categoryParentId" (selectionChange)="getCategoryByParent()">
                <mat-option *ngFor="let item of parents" value="{{item.categoryId}}">{{item.name}}</mat-option>
              </mat-select>
           
            </mat-form-field>
          
          
            <mat-form-field>
              <mat-label>Seleccione una sub categoría</mat-label>
              <mat-select [value]="createProductForm.get('categoryId').value"
                          formControlName="categoryId">
                <mat-option *ngFor="let item of children" value="{{item.categoryId}}">{{item.name}}</mat-option>
              </mat-select>
              <mat-error *ngIf="createProductForm.get('categoryId').errors">
                Categoría es requerido
              </mat-error>
            </mat-form-field>
          
            <mat-form-field class="full-width-input">
              <input matInput 
                     placeholder="Descripción"            
                     [value]="createProductForm.get('description').value"
                     formControlName="description" />
            </mat-form-field>
          

          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>

</form>

