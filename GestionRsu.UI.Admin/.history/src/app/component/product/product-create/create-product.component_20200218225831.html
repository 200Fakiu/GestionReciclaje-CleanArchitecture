<h1 mat-dialog-title>Crear Producto</h1>


<form [formGroup]="holidayForm" 
      name="productForm"
      #ngForm="ngForm"
      (ngSubmit)="save()"
      novalidate>


      <mat-form-field class="full-width-input">
        <input matInput 
               placeholder="Nombre"            
               [value]="createProductForm.get('name').value | titlecase"
               formControlName="name" />
        
               <mat-error *ngIf="createProductForm.get('name').errors">
          Nombre es requerido
        </mat-error>
      </mat-form-field>
    
      <mat-form-field>
        <mat-label>Seleccione una categoría</mat-label>
        <mat-select [value]="createProductForm.get('categoryParentId').value"
                    formControlName="categoryParentId" (selectionChange)="getCategoryByParent()">
          <mat-option *ngFor="let item of parents" value="{{item.categoryId}}">{{item.name}}</mat-option>
        </mat-select>
     
      </mat-form-field>
    
    
      <mat-form-field>
        <mat-label>Seleccione una sub categoría</mat-label>
        <mat-select [value]="createProductForm.get('categoryId').value"
                    formControlName="categoryId">
          <mat-option *ngFor="let item of children" value="{{item.categoryId}}">{{item.name}}</mat-option>
        </mat-select>
        <mat-error *ngIf="createProductForm.get('categoryId').errors">
          Categoría es requerido
        </mat-error>
      </mat-form-field>
    
      <mat-form-field class="full-width-input">
        <input matInput 
               placeholder="Descripción"            
               [value]="createProductForm.get('description').value"
               formControlName="description" />
      </mat-form-field>
    


      <!--BUTTONS-->
      <mat-grid-list cols="3" rowHeight="50px">
        <mat-grid-tile [colspan]="3" [rowspan]="1">
          <button            
            cdkFocusInitial
            style="margin-right: 10px;"
            class="mat-raised-button mat-primary "
            color="primary"
            type="submit"
          >
            <span class="mat-button-wrapper"
              ><mat-icon
                class="mat-icon notranslate material-icons mat-icon-no-color"
                role="img"
                aria-hidden="true"
                >save</mat-icon
              >
              Guardar
            </span>
          </button>

          <button  
            (click)="close()"
            class="mat-raised-button"
            color="primary"
            type="button"
          >
            <span class="mat-button-wrapper"
              ><mat-icon
                class="mat-icon notranslate material-icons mat-icon-no-color"
                role="img"
                aria-hidden="true"
                >close</mat-icon
              >
              Cerrar
            </span>
          </button>
        </mat-grid-tile>  
      </mat-grid-list>

</form>