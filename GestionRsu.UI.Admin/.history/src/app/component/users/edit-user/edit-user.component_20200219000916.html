<form
  [formGroup]="editUserForm"
  name="editUserForm"
  (ngSubmit)="createUser()"
  autocomplete="off"
>
  <div class="div-container">
    <mat-grid-list cols="2" rowHeight="50px">
      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <button
          style="margin-right: 10px;"
          class="mat-raised-button mat-primary"
          color="primary"
          type="submit"
        >
          <span class="mat-button-wrapper"
            ><mat-icon
              class="mat-icon notranslate material-icons mat-icon-no-color"
              role="img"
              aria-hidden="true"
              >save</mat-icon
            >
            Guardar
          </span>
        </button>

        <a
          [routerLink]="['/usuarios']"
          class="mat-raised-button"
          color="primary"
          type="button"
        >
          <span class="mat-button-wrapper"
            ><mat-icon
              class="mat-icon notranslate material-icons mat-icon-no-color"
              role="img"
              aria-hidden="true"
              >keyboard_backspace</mat-icon
            >
            Cancelar
          </span>
        </a>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="1" [rowspan]="1"> </mat-grid-tile>
    </mat-grid-list>

    <div
      class=""
      fxLayout="row wrap"
      style="flex-flow: row wrap; box-sizing: border-box; display: flex;"
    >
      <div
        class=""
        fxFlex="100"
        fxFlex.gt-sm="100"
        style="flex: 1 1 100%; box-sizing: border-box; max-width: 100%;"
      >
        <mat-card class="mat-card">
          <mat-card-content class="mat-card-content">
            <mat-card-title class="mat-card-title">Crear</mat-card-title>
              
  <mat-form-field class="full-width-input">
    <input matInput 
           placeholder="Nombre" 
           
           [value]="editUserForm.get('firstName').value | titlecase"

           formControlName="firstName" />
    
           <mat-error *ngIf="editUserForm.get('firstName').errors">
      Firstname is required
    </mat-error>
  </mat-form-field>

  <mat-form-field class="full-width-input">
    <input matInput placeholder="Apellido" 
           [value]="editUserForm.get('lastName').value | titlecase"
           formControlName="lastName" />

    <mat-error *ngIf="editUserForm.get('lastName').errors">
      Lastname is required
    </mat-error>
  </mat-form-field>

  <mat-form-field class="full-width-input">
    <input matInput placeholder="Teléfono" 
          formControlName="phoneNumber"
          [value]="editUserForm.get('phoneNumber').value" />
  </mat-form-field>

  <mat-form-field class="full-width-input">
    <input matInput placeholder="Email" formControlName="email"  />
    <mat-error *ngIf="f.email.errors && f.email.errors.required">
      Email es requerido
    </mat-error>

    <mat-error *ngIf="f.email.errors && f.email.errors.email">
      Debe ingresar un email válido
    </mat-error>
  </mat-form-field>

  <mat-form-field class="full-width-input">
    <input
      matInput
      placeholder="Confirmar Email"
      formControlName="confirmEmail"
    />
    <mat-error
      *ngIf="
        editUserForm.get('confirmEmail').errors &&
        f.confirmEmail.errors.mustMatch
      "
    >
      Email y confirmar email deben ser iguales
    </mat-error>
  </mat-form-field>

  <mat-form-field class="full-width-input">
    <input
      matInput
      placeholder="Contraseña"
      formControlName="password"
      type="password"
    />

    <mat-error *ngIf="f.password.errors && f.password.errors.required">
      Password is required
    </mat-error>

    <mat-error *ngIf="f.password.hasError('minlength')">
      Contraseña debe tener al menos 8 caracteres
    </mat-error>

    <mat-error *ngIf="f.password.hasError('maxlength')">
      Contrasñea no puede exceder 10 caracteres
    </mat-error>
  </mat-form-field>

  <mat-form-field class="full-width-input">
    <input
      matInput
      placeholder="Confirmar Contraseña"
      type="password"
      formControlName="confirmPassword"
    />
    <mat-error
      *ngIf="f.confirmPassword.errors && f.confirmPassword.errors.mustMatch"
    >
    Contraseña y confirmar contraseña deben ser iguales
  </mat-error>
  </mat-form-field>

  
  <mat-form-field>
    <mat-label>Seleccione una planta</mat-label>
    <mat-select [value]="editUserForm.get('plantId').value"
                formControlName="plantId">
      <mat-option *ngFor="let item of plants" value="{{item.plantId}}">{{item.name}}</mat-option>
    </mat-select>
    <mat-error *ngIf="editUserForm.get('plantId').errors">
      Planta es requerido
    </mat-error>
  </mat-form-field>

    <div class="radio-roles text-left">
      <label>Roles: </label>
      <mat-checkbox class="m-r-10"
                    formControlName="roles" 
                    [(ngModel)]=role.checked 
                    value="role.name"
                    *ngFor="let role of roles">
          {{role.name}}
      </mat-checkbox>
      <mat-error *ngIf="editUserForm.get('roles').errors">
        Roles es requerido
      </mat-error>
    </div>


          
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>
</form>
