<div class="animated fadeIn">
    <div class="row">
      <div class="col-sm-12">
        <div class="card">
          <div class="card-header">
            <strong> Editar Usuario </strong>
          </div>
          <div class="card-body" *ngIf="editUserForm">
            <form
              [formGroup]="editUserForm"
              (ngSubmit)="update()"
              #ngForm="ngForm"
            >
              <div class="row">
                <div class="col-sm-6">
                  <div class="form-group">
                    <label class="form-col-form-label">Nombre</label>
                    <input
                      [ngClass]="{
                        'is-invalid':
                          editUserForm.controls.firstName.errors &&
                          ngForm.submitted
                      }"
                      type="text"
                      formControlName="firstName"
                      class="form-control"
                    />
  
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        editUserForm.controls.firstName.errors &&
                        ngForm.submitted
                      "
                    >
                      Este campo es requerido.
                    </div>
                  </div>
                </div>
  
                <div class="col-sm-6">
                  <div class="form-group">
                    <label class="form-col-form-label">Apellido</label>
                    <input
                      [ngClass]="{
                        'is-invalid':
                          editUserForm.controls.lastName.errors &&
                          ngForm.submitted
                      }"
                      type="text"
                      formControlName="lastName"
                      class="form-control"
                    />
  
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        editUserForm.controls.lastName.errors &&
                        ngForm.submitted
                      "
                    >
                      Este campo es requerido.
                    </div>
                  </div>
                </div>
              </div>
  
              <div class="row">
                <div class="col-sm-6">
                  <div class="form-group">
                    <label class="form-col-form-label">Teléfono</label>
                    <input
                      [ngClass]="{
                        'is-invalid':
                          editUserForm.controls.phoneNumber.errors &&
                          ngForm.submitted
                      }"
                      type="text"
                      formControlName="phoneNumber"
                      class="form-control"
                    />
  
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        editUserForm.controls.phoneNumber.errors &&
                        ngForm.submitted
                      "
                    >
                      Este campo es requerido.
                    </div>
                  </div>
                </div>
  
                <div class="col-sm-6">
                  <div class="form-group">
                    <label class="form-col-form-label">Email</label>
                    <input
                      [ngClass]="{
                        'is-invalid':
                          editUserForm.controls.email.errors && ngForm.submitted
                      }"
                      type="text"
                      formControlName="email"
                      class="form-control"
                    />
  
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        editUserForm.controls.email.errors && ngForm.submitted
                      "
                    >
                      <div *ngIf="editUserForm.controls.email.errors.required">
                        Este campo es requerido.
                      </div>
                      <div *ngIf="editUserForm.controls.email.errors.email">
                        Debe ingresar un email válido.
                      </div>
                    </div>
                  </div>
                </div>
              </div>
  
           
  
              <div class="row">
                  <div class="col-sm-6">
                      <div class="form-group ">
                        <label class="form-col-form-label">Planta</label>
                        <select  id="select1" name="select1" formControlName="plantId" class="form-control">
                          <option [value]="null" disabled>Seleccione Planta</option>
                          <option *ngFor="let item of plants" [value]="item.plantId">{{item.name}}</option>
                        </select>
      
                        <div class="invalid-feedback" *ngIf="editUserForm.controls.plantId.errors && ngForm.submitted">
                          Este campo es requerido.
                        </div>
                      </div>
                  </div>
  
                  <div class="col-sm-6">
                    <div class="form-group ">
                      <label class="form-col-form-label">
  
                      Roles
                      </label>
                      
                      <ng-select  
                                  [items]="roles"
                                  bindLabel="name"
                                  bindValue="name"
                                  [selectOnTab]="true"
                                  placeholder="Seleccione Roles"
                                  appendTo="body"
                                  [multiple]="true"
                                  formControlName="roles">
                      </ng-select>
                      
    
                      <div class="error-required" *ngIf="editUserForm.controls.roles.errors && ngForm.submitted">
                        Este campo es requerido.
                      </div>
                    </div>
                </div>
              </div>
  
              <div class="row">
                <div class="col-12 col-sm-4 col-md-2 col-xl mb-3 mb-xl-0">
                  <button
                    [disabled]="isLoading"
                    type="submit"
                    class="btn btn-primary float-right ml-1"
                  >
                    <i *ngIf="!isLoading" class="fa fa-save"></i>
                    <i
                      *ngIf="isLoading"
                      class="fa fa-spinner fa-spin fa-3x fa-fw"
                      style="font-size: 20px"
                    ></i>
                    &nbsp;Guardar
                  </button>
                  <a
                    routerLink="/usuarios"
                    type="button"
                    class="btn btn-secondary float-right"
                    ><i class="fa fa-close"></i>&nbsp;Cancelar</a
                  >
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <!--/.col-->
    </div>
  </div>
  